name: vm_high_availability

display_name: "VM High Availability"

summary: Demonstrate VM high availability

description: |
  <strong>What's this test about?</strong><br/>
  This test demonstrates the effects of a failing node on VM workload
  performance and availability.
  <br/><br/>
  <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAADzCAYAAAHsuK1WAAAAAXNSR0IArs4c6QAAOvxJREFUeAHtfQmcFNW1/pkZBmYfkEVFAoKykxdRAVER1AQR9YFLUBM3RCQoxodKRMOWp8Y/cX0uQVRE9G9QEhWfIHFnEZElKrIZkE1ZVECWgdmn+52vpm9T3VPdXdXdVV3Vfc7v9/Xdt++eun3rVtW9RCLCQEIMNApL3ZjdWQE/ZRbq4uTp7GasZvIvMsgIZSsYBIuXMGCJAaXLWqJDh8v9llIbRC4pKgjJU0VJRt7IS59/+EVExYX5qjzLZtmRiphpkpl/dszSAhE2bd1pNqpj8UxXvqa2VqvU1q1bqUePHo5VMFpBhpUfNGgQTZgwgcrKymjevHkh6du3b09r164N8bPqeHv+P7UkV1x1LQ0cPFSz+9avp6p77yX/zp1U/cgjVrMkwkUVSdZt3Obv0qWL/5lnntGi1NXVNYga7aJEWLT8G2Rm4BGef4MLNlqTN2zYEAzOzjbstGC4ExbTNejWsZ0T9bFURgPmzQx3lkoIi5zM/E0zH1YHVzgbMJ/MPxGjFiYzf08z7+nKN1AbdPXLL79M33//PX3wwQf07rvvGvV+Qn7XXXcddezYkdasWUP5+fk0a9ashPLTEif7T0RfIzN/Uq+99pr21/T444/7fT6f/7333gv5qwr/kwqZviIw0QtKP2UNrzzcycw/vXQ+mX8ieuaV3e78VTliCgNxMDCO0/yd0ZtxI+M5RgtGDuNrBgRhb2k2+REGhAFhwCwDIfMcTqRfzo6Uh5XltUj5w19NU5qFFdQkzC1OYcAMA0FdC5/Mm0lsFCfWnN0ojRU/lX/IbV4iNwIoPNZ0NpH8w/NWV7CVRrsiruWKHzp0yN0Vx7r67t27G1SypKSkgZ8Vj47detIvB/0n9f/l4AbJfLrF2QaBYR4hF2csHbz66qspLy+P+vTpQx9//DG1atWKnnzyyWCW0EN18QQ9A5Zk3KwjK5W/pYqHVybc7WTFLet4eGVT5Q4ZDsOHnGRXKpn5pwfjsS7OWD0Qi9FE8g/P27OMu67i3bt3p/3791O/fv1idXB9OMZZJUuXLtWsQ4YM8dfW1irvmGa0iZrK/7zzztPyad26dcz89BGQ3jB/lbE+slW7YcYB3szk//nnn/v79+/v5z83/1VXXcXPfncGq4D0hvmbyTiYSwSLYcYWKm6U7d6fDmre4RV3nY6HK3bzZsZzI8/+AYU3UNzCQAQGgtNag/CH2Q//Ajcy2jL+i4Hbn80MSE8GLu5fwSEiDAgDwkA6MjAp0KiFAbMNm3j+BhnDwEo1/C5gLGNAPmTg2Rye2akXwn/PdoiPAb/zGUh3H+N0BuTBeoMWBswtbGLgncPIZSxndGFYkWTXfwkXjnq3DVTimoCJPwPVtjq2X824kAF+vmWADxFhQBgQBpxmwHCiG+022OkKqoVms+W6qe5ZWbS7uLCgdXjdQ+6gwwOLCvIoi1M6LYfLK8if8Lct/KpeTRVR06aOVr/mrbeo8pcDtTK5DccbFY5/4YiSCsJRmaICK68LRKy+44SjJrlDhkSpUH1QVNJjpjaIsH7TdgNf8dIzkHTS9ZnDvnz5cuJvZVzztVJ4/VLhtkw6XiTv2bMn7dmzh1555ZWYdcbT3pycnIS/sopZUJQIQy6/isbeNZ7O6j9QU4Bhv7meRt16u5bipt/dFpLS/913mrv6scfI9+WX5Nu8mfw7dlDV5Mkh8RJxGP5LqhlAPE/SMLxE+jaJV/GDf8z8kjxF++BKPYlLZPYST/0TIVOlVXWH26j+UWcvKhMrJgi3Oq7nNmpEHdufYKUYT8dNOulgI5Kmm2VKfblqNr7X4kUlXX+ZeK1hqK9b6x+V9FSNifxNFB2pqEy4n1NV/1idbXn2kjATJjLIzjb8fzeRMvEo+/Zbf6Nx49Ydlgp2JemWWpDkyJHeOIhWTKf2WHI3LwmT/q9//YtWrlxpvsQUxMRuDA8+qJ6ZEF155ZXBWjR1eG0GBRtex4nM04OtSdCixkWjeW60rFXdESeRMf0tXrjCVhrPPVf/4GzhwoVasQMGDNDMaD+q7ohjVH8hPRp7cYbFIj3h4SXOemV0sqikY107FaLXlETKx9TTaTFzYxd1no4HCckiwOnGo7xkzPUTqXcWZc1OJL2kFQa8zUDI7GX9N9un8cPJVbz+eroyu53cbnRYEzHhfYoxl/ETYywDG2T9wJjJOJexjTGM8SgDGwWsZYxk4OWdGxnfMC5llDKQH970FBEGhAFhQBgQBoQBYUAYEAaEgXoG9oURsSDg/pJN7AiPeXVLxqcMvBDfjoG5dV+GWth4gO2zAv7/ZhPyUr1B7wbMoWyOCNgnsol4WPdB+GMMfAQAObrQXe+O9ZuM+uNjh5cZRYHCbmFTfdSAexG40WbIF/UGYSvj4xg9GJ8F/LYHzKQaIEZ9aaHPWN1gKVOFoSMg4f4gW+1FhDDVWMS1UyLVX5Wpr4dSAhUWbhrxEB5H3MKAMCAMCAPCgDAgDLiQgfCpmXbIhVvqGemjp2j1079OES2eE2FGr1Jg7utaifTBk2srbKJiUR8uJ/LCjYmyI0ZJxgPtnLG3U8Gzz0Ysw66Asp27+CMxdf/WsBRXa3jD6pr3SQXZqF3OHXj6GFnSlvDITU5tiCsIr+Wv5jJFXEF4I/5iLlPEdsJ37dpFn3zyicYndkOETJs2TTMz8cd2wvGu9neB7ygVwaNHh7/2okLS3zRFOD6SnT17NnXq1InfFfITXobv27evxk7Xrl2jslRQUEDYXhnSrFnk6VLUTBIMHD4Szwv4DaX/eYouvORyOnKknD8S3ksfL1xsmHPd4nr/6unTtY9ra+bwpkgVFYZxrXqaIvyUU06ht99+m8rLy7WvgnkvUm1PahR20kknWS3T8fgzn/urVuauXd9TI/6utKq6ipZ9toLOHXCOYV18/BUz9wplFRdTVlER+X/gF8yS9D8T9dY+kRufiy66iKqqqrRz0fB1wZQpU7TG9erVS7tKcPpokyZNtKsmvNX6Gx+j2+Pw+Hq3urVPpO76/Kzay/nTl7oXXtSSGdU96p2m1cL08efPn6858UeJXdrVFiPV1dXUuHFj+vnPf66PnjF22whXDIaP2yA7kyXphO/8fi8dLDtiidNOHdpQpszFk074Cce1IEDEmAFTsxTjpO72xb5WqRA/7zUTTaLOUqIldCrM6J8+WtlqlhItjlNhRnVPWw13ilSr5QjhVhlLMH7UP81U3Tzob3zibV+q6h5ryxLR8Hh7NEK6WNuVCOE64uJ5EGI1jRCuI3zjlh06lzmr1Rs2Idwcr0mLJYRHoZKP29JCcfajkqeewvfB8Yspwt22+078zQ1NGWvnI2xmA1m7Fh9V18uYMWOUNS7TFOEdOnSgDYHTNu+77z7tGeWwYfjKm0hpQVylO5To5Zdfpk8//ZQeeughrcQLLriAhg4dSqeddhqdeuqpDtWivpiot/apmsvq5+FGt8fRGFK39vHUXW0Hi9NVL7zwQjr55JOjFRUxTNXfqO6mNDxizmkaUMyP1l544QV69NFHiU8A1Fo5fvx4qqmpoVGjRmnuSZPUAS7WSBAN1/GlNFznFZdVNNwkbaXFhSZjxh9NhhQdd048OBHCdYQ7YY1KuFt3TDNDjFt3q4u6PJvq3dLMEBspjlt3qouq4ZEa45S/bE/nFNNSjjAgDAgDwoAw4HYGeC2hFnUMNwP1HsDmnQzsgHM9A3ITY4lmqz86FzsFYVec9Yx3GCMZf2LUr+Ue3T0Hq/hI143RYD2H/dJWQqaFfH6PNi8PNwOt38smthnqyQBR+JwBZ1Fia1TIzxjYPQdbFSH8REZTBuKgEyCn1xt0LJvYChXxEVdEGBAGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBiIm4EmnPJ3jFLGnxkLGUqw2oeFKwi2ZxjMMLsCuAyJAoK9yKPJ0VdYo8UKDYv6kDw0agOXL+CDfc2N5DEDz0Xsd6WBf6JeXuG/TYSGxupblQz7z2Oxs36/F+V71MQqc7jks0cXxsbwACN3yGptWIRidn/NKGMohVZRUDG1OT5MLIUrNxQTlVgaMAvYnMe4gKHkDWVhE3as2mIThNMYrzJ+yYDoV3JB5hjNt34z/m8C9rZsPs9Qe6tjZRgE/4oB6c5A+UpuZ0vvgAN5PqAC2JzMwOtv7Rl/ZECwS8Ynmq3+53OdHdb+Ye5kOd3I/x8CjUPd0F9P6hqLRycYFCHgVS/vBxzj2PwmYEe/QTCw7GLMgoPlF4y7GSgDFzp0QfUXBlxIBeNNRic4RIQBYUAYEAbSnYGI8+iywxX4i0lkfpvu3En7XMBAcVH+uS6ohlRBGBAGhAFhQBgQBoSBRBiIOCfXZ8rfuO9j9zF6P7HzDUt2/s8KCrJ22MmFcG/MrhXuo62T63MXBdezEbDX+iq+M/BOtpdwb8CoFe7NKrlBMeIlDHiDgbiXCOPZnscblBjXMtb2nMap7PEtrqniL3/w6U9mSDnvIFT36ONxN1ZGcpPUxdoS1WQ2yYmWQQquEXbgQEK8uV7JsR3svv2HEmqkmcQoZ+NWW+8hzVRD4tjAgOuVHNv2Nm9WYkPTQ7PEVr+d2oe/VxQaR1zeZMD1Su5NWqXWbmLA80qu36i4e/fupN+2Wh22CsKxhXW/ftiLQSTTGEiqkuN8VMiSJWoHllA6r+STE40Eu1PHK2qLcKRft25dyFbh+nP7sG14pHrFW7ab0v1y0H9q1Vn1ry8Mq/X7sepV8NDgG24aHeoR5sJRpBXDh1PFzTeHhPh4d/Saf/wjxC/o4D2V3SRxLyEaNWLz5s309ddf0/vvv89HtObQmWeeqW2zXllZSRMnTtS2iodCl5aWEk7mnDt3rpbNt99+a5Sd+FlgYPu339GWrdvok6XLKDs7m07t+Qt6bsYs7XzdMaNvplWff0FQ6GI+Qxcbez/zdP2S3K5du6OW4t+3j/J5c3BILZ877OMTshv/5jcEf6BixAjK4dNVs088kSgvjxoNGsQRa/kTFvUNi5Y0pT9mH+urr36ClXVqnTx8Y3Bsgd+2bVvC1GTq1Kn03HPPBeukLAsXLiScLaxM5Z+oqTYX1+djtJW+PjxRuzo2QJ+PU9zry0ylXX92sr4eZrlP6nRFXwG77Dh2AIdk4+iBW265RTt+AGXhCAIoNmT16tWEowggGLVwxDyOJFDHxuOfBkcT7Nq1S4sjP+nNgOdG8lR2h4zkqWE/7UdyJ47VUF3nxEMnVZaYzjHg+umKE0eZKLqdeOikyhLTOQZcr+TOUSElpSsDcS8h4vidAl4yctWLSzb1Ug0viVVWuWftt2znLsr57z8RJfjikk10JTVbf58+5HvhxYTyjPvGM6FS0yix2WWseJtstIQYb17pls4s9zJdSbeel/Y0YCDu6UpRQR5lZZn6I2hQqBc9MD3DgX1uEOHeWi/EPZJnkoKD0qICbO/oDhHurfVD3EpurRiJLQykjgFR8tRx7/qSN23d6Vgd8WWWXSJKbhezaZAvlk6dEnyZZZeIktvFbAbku3XrVu0lt0OHDmmvUUf6YAVUTJs2LWWMiJKnjHrvF/zjjz/yzhhNqbCwkL7j98yjyejR0T/OiJY20bCkKvk555xDDz74oPZaKyqGL4UmTJigveqKq7x9+/ZUVlZGffv2pd27Q1/W79y5c6Jtyej0qeC+Dz+NLCgo0D6QwWvMa9fikJF60X+VpfxSZSZVyaHE99xzDy1atEhrT3l5OeGrnzq+qcjlL0Vat25N+EqoVatW9NFHH2lxbrjhBu0jCKQViZ8B4T4yd6ae5hg9Ws60r1NAYaa9Tx7+VVbXrl2pQ4cOVFJSQnv27KFf//rX2r/2cP4GFPNzfIkF4BPILl26EP5dKioq6MYbb6QZM2ZQEX96t2bNGnr22Wfptttu0/7pI6tmaEgi3IuSh3IZ1ZUI0VEzjhKYygEmXMmNqokdETA1wddX6iGV3o5veRs3bqwl9fl82venRvnE8kuE+6ROV2JVVMLTjwE191YKjhbq7UrB4Y8PrFMhcb+7korKSpnOMtCtYzva+f1eOlh2xNaCcxs1ovZtjyO71spFyW3tPu9nji+znPw6yw7GUvP/YUdLbM7Tyad/NjfFc9knyn3cI7nRjYDn2PNohYV7ax0nI7k1viS2BxkwpeQ4hIi/jwh9ROnBxiazylmUNdvs51eJlCvcN2TPKe4bliw+woAwIAwIA8KAMCAMCAPCgDDgJgZO5srgyK6/MG6zWLFuFuKP5Ljq/Zs7Y6R7g8PrN+WOEVGC04sBU6srcTQZJ0xh7+QHGa0D6WexOY7xIuN4Bo4pGMrAkeZzGPcwIHfUG3QNm4g3mzGdsZUBact4gjGR0YFxAgPSlQFFhqCcmYz6N4PgQ/QfjD6MC+Bg2cIIL1sLkB9hQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBhIAgN2vaWYhKp5M4sNm7ZPtlBz4T8yWeoV68gxTIRs4jggeUEgbr+Aicy3M2AuZCDOtwyzgtdwIXgNN5aUxooQFt43zG3FOYUjqzqdZJDwCgO/XPazdObIuo3bzJ4h5xX+VxjwAi98S2BG9gQivRwh8hAD//vZr4QxyCCsgVe0keJdju1jDGZ00KVUnaTMezjsX4HwP7KJ970fZnzD2MAoZnRj/JsBgftizUZ0CpuFjK8ZxwT8zmHzPcbpATeMZQxcVNcxzmM0YXRk7GBcwMDRbEjzKAOKirj3Mj5gIC7qA/kvBto8h7GMkcM4k6HkC7agfhDkg/fdIeczfsvAPjUIf5sBqWEs0mwmf7KzssyO5G7k//fcTPQP3s0H5+AZAh4hkxjgVfnDD3Ih4xEG+kL1G1s1OYF/xwTsc9lE/9zC2MxoxoD8nQH9UN8HTGB7Z8ZyRkxBhpHkykDAM2xuiRSJ/R9gXBoIh/0VBpQBhOBCwEZ6UOQlDEgXBhoGgX85A6TMZEAQtp/xAxw6QV64WM4O+G1ic3vAXsHmyQE7DMSFG/XQn7iE8nwMmBCE6dNB+VchgOV7xi7NRtp2HPvYjs5EWdcE/C0bXTu2+2+TidzIP/rqEwZ22wcPIxhQXPQ1RPUr+Ie/EvD4Y8Ch7zd4VTOqAmH6/kHflAX8Ef4TA3Eh1zEOMaAnCUtJjBzCr1hED/crCuSh94ddudXIiWjqSg0kCRoqbtAjYNH7qzyVH8w2DJijAvFhqNFBxdMFNbCqONEGAxWnQWIjD4tzcjfyr9qreFSjOPoRYSq8QNd+5ae8wt3wV34qX/ipvGGPpBsIE3ETAxbm5G6qtqfrEm2E8nTD3Fp5C3NytzZB6iUMCAPCQIYzYHFOnuFsJaf5WH0wlLLDFR8bBohnQgx8u+uHAcztgIQykcRBBoqL8s8NOsTiDgZ4JMdasogwIAwIA8KAZxmQOblnu04qbpYBWSc3y1Ty4sk6efK4NJWTrJObokkiCQPCgDDgYgZkTu5856iXYiKWXF7ub1Prq/guYoTMDfiJD8ZqbrX5mJN373RiTN6Rr3AfkV1L3Meck9f5K1ZELCqzA9T775ZYsDInF+4jUmuJ+5gjyqHD5Xg3WMSAAbuPOBTuDUgPeFnhPuZIHrkYCYmHAZmTx8NaYmlEyRPjz3Jqn98/xXIiSZAQAxFf0IqWK5/OTEUF+MQvM8Tv99Ph8sqkNNbKnNywwAP7KW/VSsodYvR9r2EK73oeOEDlf/gD1T32Pwm1Ia45eWF+HmVnx0yaUMXclrjsCD5pDBUr88LQlOZcRnPynDv+iwqmTzeXQTrEYkUvy9V/LlrfKCvcxzVdyTQFT6auJDwn507PKGnaNOHmxqXkCZeawRnInNz5zhcld5jzhOfkDtc3HYpzvZJv3LqDauv0W6fYQ/u+/YccKcfCviv2NDQDc3W9kndoezw1ytFvv2FPLzVvVkJbv8V+QvZKwnNye6uXlrm7XsmdUHDVszW1tcpqmylzctuojZix65U8Ys09GiBzcuc7Li2U3OfD9obeEJmTO99Pnlfy7t2784OpbDrzTP3mtPVEnnPOOZqlR48emnnvvfc6z3BYiTInDyPEAafnlfzFF1/UaJo/f35Eug4ePEiPPPIInXXWWRHjOBUgc3KnmD5ajueVfMyY+q2tR4wYcbRVYbbS0lK688476aKLLgoLcd4pc/IUcJ7MIt98800tu4kTJxpmW1HR8P2PadOmGcY167l8+XL66aef6I033miQZNGiRZrfmjVrGoSlysOuOfl7H3ykNemxJ542bFpVldoC/GjwK69iO/boUjFqFFUMH847hautwnlT948+Iv/WrYYJqx9/3NA/lZ5JHcmXLFlCeGNv27ZtNGfOHOrYsaPWNij9pZdeStXV1XTFFVfQ5ZdfHmwz5tSJyjHHGH8okoXXJVmUmWg5yUhv15x85arPtert2LGL3vnne3T+BZdobij96DFjqbqmhm69/S669fd3BpvR6WT9+QNB7xBLdps2lD9zJp+vUUyV48dT7TvvaOH+Q9gDn3fP576tCUwZK++6i3ybN2v+bvpJqpI/+uij1KpVK619r776Km3atIkeeughzU+N8keOHKEc3cOd4447zk182F4Xu+bkfxx/F/XqO0Cr/7z5/6QP332bnpsxi5rzADDtqcc0/4ryCu0mXTWyZYvmyhrd5IELkt28OdXwP6bvh8AhIOyfxX6+3buplv3zHn6YyIFnDdEr2zA0qUqO7Pfs2UPNmjWjAQMGUJcuXWjcuHH02WefUb9+/Sg3N5eaMylff40jguqlpCTWYQoqZnqYds7JVy5bSKWlJdSn9+n0q8FDaOSI6+mL1V/Rlb8dTrmNGlHTZqW0WTfNKCpSh4BE5hZKzH+F9RHy8ymbB7EspAPY38//zn6eLjYaOpQq776bslq2jJyZW0PwTnM4eEqSEpk6dapWLl9EmrlgwYIG9Zg8eXLQT28Peuos/fv317n8fnxJH0nCOTB61zvZfWhU5pFhwyJVMW39jXiwwnXSR3IrhVuNi38F7knazPO+HTt20KBBg+j5558ndWP53nvvaVnecccdwazPP/98wsMi3CfgnuCWW26h1atXa+GLFy8OxnPKYtec3Kn6e7EcTyk5biB79eqlTYeG8t8jpCX/Paobz4EDB2p+nTt31kz8YP6Ph0Xl5eXaVAp+uC+A6O8NNA8HfuyakztQdc8WEZhsRa6/0d9ycWHqvu/ESA5lVyZqHsmuWnX48GGeQhYRltGaNKn/lAqKXlBQELLysn7TdurWsZ1KFmIm6/M3HsknmV1GNOI+58YbqOC110Lqlu6ORLmP60PmVJKqlgOVibpEsqt6qhsspeDwLyxUR3mqWM6YZhXcmdpkRimemq6kQ5fInNz5XnS9kuOLHaektNj+0V3m5E715tFyXD9dKS0ppE1bd5LdHzRAwU84rsVRZmyy2blOblOVPZ+t65UcXwZ1bH+C54lWDZA5uWLCOdP10xXnqHCmJJmTO8OzvhRRcj0bDthlTu4AyWFFxKXkds+Pw+qYVs5E5+T+Pn3Sio9Yjal5661YUWKGx/UwCLnmNcnVXvqJWYLHI/h8fiqvrOQHTg0bYmU/voapY/sYPQxCquzp0yiL36NPe+Et4uomTSZ+s6xBU61wH7eSNyg1Az2sEK3owZycbz7/pNzRzEhKHi1NpoRZ4T6u6UqmEGlHO2VObger0fMUJY/OT9JDE52TJ71CGZChTFcS6GQrf5nxFCPTlcisWeFeRvLIPNoSIuvkttAaNdO4nnjiayg5TiUqrxEDA3NyUzeeRpkI90asRPeLayQvyMuLnmuahepf5U20aYnOyYV76z0Ql5LLcSrWiVYpEn13RbhXTJo341Jy89lLzHAGZE4ezoj9blFy+zkOKUHWyUPocMQhSu4IzUcLSXROfjQn+23pcpSNKLn9uhJSQqJz8pDMbHaky1E2ouQ2K0p49l6ak6fLUTai5OFaaLNb5uQ2E2yQvSi5ASl2enlpTm6GBy8cZSNKbqYnkxjHS3PyWM32ylE2ouSxejLJ4V6ak8dquleOshElj9WTSQ5Ppzm5V46ySZqSr1+/nrYG9r5+9913DVXD6DiV3r17E3aezRSxY06eKu69cpRN0pT8xx9/pKuuukrTVWyrbPY4lRUrVtATTzyRKTpOdszJU8m92lE4vAPVS23KDA930p00JUelcWV369ZNq7/Z41Rq+fgNHLmSKWLXnFy4j6xBSVPyFi3qt1jD0SlWjlPBTrMf8WlimSJ2zMmF+wS1B59ghYP3A884Cecg3k/TeCSfZLZLjMpMFfFePsomaSO52Y7L9Hh2zMmd4NTLR9mIkjuhIboy7JqT64qwxYobSK8eZRPX1/qpPE7Flh40kWmiR3qoInDCXPdOJ8bkHfGNpkSp5J6nSp48yiauD5lVh4lpnQE71smt1yK+FGo5UJnIJZJdleCGo2xkuqJ6wyHTq3Nyh+ixpRhRcltojZypl+bk6XKUjUxXIuujLSGBdfK4912xpVIRMk2Xo2xEySN0sF3eXpqTp8tRNjJdsUubI+Qrc/IIxNjoLUpuI7lGWXtpTm5Ufy/6xaXkcpxK/F2d6Lsrwr117uOak1dW1Wgl5TaKK7n1WqYwhTpOJVlVSHROLtxb74mYT96MnrpZLyY9U1jZIzseBoT7yKxZ4T6u6UrkoiUkFgMyJ4/FUPLDRcmTz2nUHBOdk0fNXAINGYip5FmUNdswpXjGxYCVOblwHxfFDRLFnJMjRdnhir/5yX91g9QZ6sFvne7OycrvXVCQtcNuCoT7UIad5D60ZHEJA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAxkFAPfc2t3MooZv7LY8gIL8c/huKczesZIo94Jrt+wMUZkCU4vBiK+u7J+0/ZaQDXX2L3tURUeZq5j9wmMPzPGMN5nQD5njGUMZfwvA/IpQ+3d3IftXzBGMuYw5jE+ZkBJ5zJGMToy4I9XEoCFDFXPjWy/n/FzxhLG2QxITr1BeBH+BQbKgOjLrveRX2HAJANfc7zrAnFvYFPtsg/F3svozICiQfmgzAsYSgaz5cGAA/4fMJoE3FBK/Dsgf8g1jBWMCxhnMiDjGHBDttQbwfRt2D2T0ZhhVHYguhjpxEDEkTzBRi7n9C8F8viBzf0B+yE2tzJGMzYx6hj5DIz6Sv7Klp8CDig00iAe5DvGxQxcIBjF9zGaM5A/LgC8MIVRXJW3me0Qlb6C7agP3EB42ewlIgwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwkFYMtOPWvMPALlTYzeo+htpMczrbOzP0gn0MD+iwi+1NGU/p/BDnl4xkyyzOsFlYprex2+oGpGFZ0GvsgZ237JTHOfNUbE46gstdxMjVNe7vbG+pc0ez9uNAbNNnRo7hSNgJ7VwzkeOJs27jNn886aKkEf2npOk/dsA7PQrX4UEYN04O90zAjX1TL9Wlh+5iPDMr93DEviYi53CcqYw9DGxb+SADbU+KxLMF4jAuGXtvYj/OYxk/Y7zNwFaFqCwG8VYMveAiRQccZPRgtGYcCNgvYRNhGMQxOOoHi8fZ3ZYBQdgvNFv9H8BxbEdd0BHYTvF+BgRbIE5jLGJgAO/EKGRgq0T8+TRioHzUHQJykf7fjMsYkF6MzxjYQ/RlBgSko4PXMt5k9GZgv1C94I/pL4zxjBEMtBvSlXEvA2XPYcxlrGeMYkBQ5xcYSxgY1M5mQBC/hoHNfZH3l4x/MtB2yBmMDxmrGVCMWxh6Aa+o62bGckY3BgR5PcNYFzDZCBH0KTjZzVB1+Q+2lzAi5Xk6h0EvUJfRDHAMuZSBei9koB16KWLHBYwNjFb6ABfbh3HdRP9j638x8/QPxjLG64zjGdDn1xjvMGYxoCMwFzL+xMC1P4+xgoGJndJz6OtfGJMYSxm4Tv6ToRdcQysZ3zBQLnQ10vXGQUE5iW39GP9kZDHaME5kQIzyhP/VDFynnzDOYyjdvZ/t/2K8xziboZc6dtzNQBs7ME5mXMVIiqChVqWYE+wLSwQ3BrXwgS0smqFzCPt2Z6xhYLDVy/PseJYBkqEA/8P4fwyUAzJARCcGZFwAX7GJmWR/hhIoBwalC5VHwLyXzZ2MjgH3fDa/Y2Cw2s/Yy+jJQMeB+B8ZPRgQpAuX09jj14wdjAcYGIQhUNjOjBxGL0Z7BuRTxgIGwqFEUCi07WsG2of8wDfsUNIxjIGMPzNGMqCwUDzIrQzE08scdtzFACfIfxcDZSFfcPc7BvK6jvESQy/b2dGCMYMxQhdglOfPOPx/Gcgbgrp1Y/RloM/wpwi5nvENAxcp5DBjNuMSOOyS7p1ORNuTJegP6Lte4G4cgN7fjD1d9f9dbryPgesJMo0xlAFduJEBzsoY9zK6MCYzjmfgGtnMaMn4E2MUQ39dbWE3JhXQNyVIgzHihIAHrjHo1WUMo+vt20A8ZdzBFtQB1zfqCYmU54McdgUD4wLklXqD7mFzEAN1hzzMuIgRritnsN8sBq655YykSDwDOS7srxifM6C8hYzFjGMYFYxtDAwwVYw6xlkMDCAQzPKOaLb6H3TyC4z1Oj+9dS07PmH8nPE4AwMkiOvBQP4LGfDDgLCCAXJ6M/YylCD8d4xaBuqMAf4nBgj+/wx0OMJLGfczMGBCAbIZfgbyQty/M9ABUEKUt42hBmq2aoKywAEE9V3AGM1AHv9mgI+NDCVofzkDfxo/BDwRZ3PArvJDfaFkENiRH+L9lrGUgT4At9sZegEf8xk+BmYNaBfahHzRBohqX72r/vd7NpA/ZATjVAYGHKQxyhPcIt5XDLQf9YB9GeOPDKQBVygb9Q2X3eyh2h8e5jb3DK4Q2gZdEv0P7R2lr/C9hvEYo5jRnjGV0Z0BPcFE5VgGJkwYG5oznmP8mYH4yKcJA9cdRJ8veMe1BX1HGgh0FRMTDNC4TqDvFzHgb3S9sXdQvgzYUKeWjL8x1PVllOceDu/LWMeArqM8XJMPMpox/oNRxMB4pOrPVm0iiDIOMXAd/Z0xkvEuQyTDGRjO7V/N+JDxBAPKLxLGgA1r5GEliFMYEAaEAWHAVgZkILeVXslcGBAGhAFhQBgQBoQBYUAYEAaEgQxnIMtq+w9VVPTjRHgQKCIMeIKBb7/7YWHbnx07wBOVlUpmFAPF+fmLMqrB0lhhIF4GZI08XuYknTAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDJEsrogTpzoA8tEz3Hpb2CQPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgI0MWH6PPFJdysv9bep8lX+hLP8Av1/bxSxSVPHPUAaysngHSn/WwpzsvD8UFGRhIyRHBGvkSd4BMVhv0fsgFWKJwIATep+UgbzscMXf/OS/OkI7xFsYaMBAFmXNLi7K/02DABs87BrIRe9t6Kw0z9IuvU/KQH7ocDm2JxURBiwxUFJUkBT9s1RoEiOL3ieRzAzKyg69l7dWMkiBpKnCgDCQngzIQJ6e/Sqt0jEg75HryBBrWjLQyOlW8cI/NWmcSznZOZSd7ek7a6epc215Pp+f6nx1VFVdQ/ygW8SIgQP7Kfu1Vynr33xQ1IEDRjHEz2sMNG1K/s6dyXclHyTUFIcDpU6SMpKaXSvMa5JLuY0c/+9IHbsZWHJNbS1VVuFUt9hix1ph7FKTF8Os3mdPn0aNTzqJcofgtDyRdGOg5q23qHrzZvKNwqmOscUOvXd0aUUG8did7PUY0scNezBr+XIZxBvSkjY++INGH6dSHB3IU9lQKTtzGZA18szt+0xpuQzkmdLT0k5hQBhIWwZkwToJXVtbV0c/7NlP5RVVhDViLwuWRgrym9CxLZtRo5wcLzclWHe7vuoMFiAWYSDFDMhAnmAH7Px+L+U1aUwnHNciwZzclXzf/kP80LI67drlLpalNsJAchiQpZUEeTxYdoSaNytJMBf3JUeb0LZ0EFkjT4delDZEY0AG8mjsSJgwIAwIAx5gQAZyD3SSVDExBmSNPDH+JLX7GZCB3AV9tHTpUurXrx+dffbZ1LdvX3rjjTeCtRo2bFjQDssB/ioQcU499VQ6/vjjqVevXnTzzTdrcc444wzN3bNnT81v9+7dIWnFIQwIA+nJgDzsTHG/jhs3jkpKSmjJkiXBmsyePZsuu+wybUBfv3590B+WpvxZ8LJly2j//v00hD9EWLx4cTD88OHDtHbtWs0Nc/To0TR37txgeKZa7NrGNlP5lHa7jwEZyFPcJxh8O3ToEFKL5s2bU1lZWYifGQfyev3116kRv0J47rnnyiBuhjSJIwykAQMykKe4E6dNm0aYgWNZpE2bNrRz50664oor6P333w/W7LzzztPs7dq1o5kzZ2r23Nxcat26dTAOLD169KDLL788xE8cRLJGLlqQ7gy4do08i7dJbNmyJe3atUvrAwx21157ren+wKB28ODBmPHnz59PGCC7du0aM65dEa6++mr67LPP6B//+Ie2bHLnnXcGi8ISyUcffaRBDeIILCoqoldffTUYD5Z58+aFuMXhPQZO6vIL6tV3AP344x6t8m/P/yfd+Yc/mm7IhZdcTmV8ZxZLPl60hPqdN4gGDh4aK2rUcB8v/VXdd1/UOCrQj2c2hw6Rb/Vqqp4+XXnHNCvvuouooiJmvEyO4NqBPDs7W5udXnTRRfTUU08F+6impkYbdHfs2KEtP+AhIdaRsW48cOBAqqyspFWrVtG6deu0NEj7xBNPaHasJ4f/GSB//ew3WJBY0oYBL71HDr3/dPEHNGLUGHr5laN/1LX8xTAG3e9/+JGOHCmnK387nL7ZvIW++PIrun7E76i6uprWrF1PGzd9o/Ub0s56+W+afeWqzxv8GZzbvx+9/IL5wTSaMvg2bqTKMWPqwc98uDLk37ePiL94BirHjtX8ahcupLqvvgrJqvqxx8i/fbvmV8sP+es4jm/TJqp64AEivtZ9W7aQ77vvQtKIoyEDrh3IUdXGjRvTF198QU2aNKHrr79eqz0UGrP1Y445hgoLC6m0tJQV+4iGZs2aUV5eHh177LFaHCQoLy+ngoICLS3eCvnrX/+q2eVHGHArA7m5jejtN1/T9H/c+AlaNet4QITeNy0tYX3Op+LiIp6kVmgo5YfluFZatGge1PsKntDk5+draU8/rSf992Tzs3qrvGR36kR5PGHS8NBDRLzsVzV5MvGBA8QVIqqqwoVomK2fB32uvBbW6JJLKIcnZjwboyy+tpFPFl/faLdIdAaSwpDZfZmLC+sVK3qV6kP9fEJBeAfq/TADAbDEoBcM6hjgwwUPAuEfnqeKp89b+Zkx12/aTt06tjOMettttxHQiRUdrw1ewoqq3k7BMsi2bdtoDM9kYgnuKs466yzCa4VKvvzySy0v5B+vjBgxgmbMmBExebS2RUzEAWVHzN0G27Evc7R6JTvMrN7n3HgDFbz2WlKKr6mp5YlqjTaY6zPEoK4Gbr1/eXlFg7j6cFvtPCDzzMpcEUZx8QfAkzgvSPmVV1LdCy+aqqodeu/ah51GA67eDzMQIFyMBnHECR/ww9Pp8w4Pi9eNgXL8+PHaa4STJk2iiy++mKbz2uCoUaM0/5UrV2rLQ8OHD6e9e/eSz+fTBtaOHTvS7bffrt1ddO/eXQtT6/3wv/XWW7U/hn24fWV588036QG+FcUD0MGDB9PEiRNpw4YN9OSTT2pp8azh6aef1uLef//9hPfWcZeymTfDF/EWA5itA+FiNIgjDmbvKROzgzgqaBTXI4N4yvjVFdxQI3SBYk2MgVNOOUWbJS1YsEBbu7/77ru1gRYXHdbqYQ4dOpSef/55vi1uoRWGj32w3r+aHwgt5PVCyJQpUwgD8F380GfFihV8x5odfAiMmfmHH36oPRdA3JdeeomeeeYZ7TkCBv+2bdvSct70Hs8B1qxZQ/hjmDCh/nYd9csEkffIM6GXM7uNMpDb3P8PP/ywtiyC2TdkMq8d3nTTTfRV4KEPBnEM5ljX38QPedSbKfhqU0lxcTFNnTqVTjvtNO2LTaTHHQY+JMJgjDd08KUnnhvgnfRnn32W8OeB98nxiiLeS0ceY/mh08iRI7XXHTGbxzMFEWFAGPA+A65dI/cKtfGuI3uhffG2TdbIQ3s3mWvkoTmLyy0MpHqN3NVvrbilk6QewoAwIAy4mQEZyBPsHZyogxOC0k3QpnQ5SNlL75Gnmx5Je5xhQNbIE+S5fdvjaMu3u6l50xIqLSn0/PFoGMAPHjpC+w4cog5tj67TJ0iTJBcGhAEbGZCBPEFyca5lp/ZtEszFPcnRHpwOlE6nHsleK+7RL6mJPQzI0oo9vEquwoAwIAw4xoAM5I5RLQWligFZI08V81KuUww4OpD7fH6n2iXlpIgB6WMD4vkwEP4U1yBAvNKCAfQt+jiF4uh75Nj7pjA/L+J+JynkQYpOAgPYr+ZIRSWxYUrs2HPCVMFJimR2rxU6sJ9y/jSFcnmnzdz+/VN+0Sep+ZIND+A1ixZRDW+FXTd5CveruQ/s7NB7Rwdy6XlhQM+AHQqtz99uu+mB3O6KSP6eYsAOvXd0acVTbEtl04YBWSNPm66UhkRgQAbyCMSItzAgDAgDXmFABnKv9JTUM24G5D3yuKmThB5hQAZyj3SUVFMYEAaEgUgMOP5lJ95cadI4l3Kyc3hf7aQ8a43UNvF3iAG8cljnq6Oq6hrTb6w4VDWtGDfsRy5672SPO1OWm/Te0YE8r0lu2mzE5IyqeKMU/CFnZ/PJNbyBWA2fqVpZVeONijtUS9F7h4h2uBg36b2jSyvpspuew/riqeLc2MepXiN3IyeeUioPVDbVfezoQO6B/pAqCgPCgDDgOQZkIPdcl0mFrTIg75FbZUzie40BR9fIvUaO1FcYEAYiM4C963/Ys5/KK6q0ZyORY7o/BEsjBflN6NiWzTx5poAM5O7XMalhggykeo08weq7MvnO7/dSXpPGdMJxLVxZv3grtW//IX5YX+25dsnSSrw9LumEgQxm4GDZkbQ6fER1JQ5UQdu8JjKQe63HpL6WGZA1csuUSQKPMSADucc6TKorDAgDwkA4AzKQhzMi7rRjQNbI3dmlS5cupX79+tHZZ59Nffv2pTfeeCNY0WHDhgXtsBzgvb8R59RTT6Xjjz+eevXqRTfffLMW54wzztDcPXv21Px2794dkjYTHPKwMxN6WdooDLiMgXHjxlFJSQktWbIkWLPZs2fTZZddpg3o69evD/rD0pRP4Fm2bBnt37+fhgwZQosXLw6GHz58mNauXau5YY4ePZrmzp0bDM8Ei8zIM6GXM7yNskbuPgXA4NuiRegbL82bN6eysjLLlUVer7/+Or311lvUtm3bjBvEQZjMyANqg2PKsrCzkYgwkEEMpErvp02bRpiBY1mkTZs2tHPnTrriiivo/fffD7J/3nnnafZ27drRzJkzNXtubi61bt06GAeWHj160OWXXx7iJ444GMCRV2bASmNKPv74Yz8Pqv6zzjrLX1dXp6Xh9TD/888/byo9InXv3t3P62ox4/O6nH/WrFn+yspKPyuXv0+fPjHTSIToDJjRhXQ4Js1sO6OzdTTUS3qPu5x0lXjbZlYf4hhiYyZx7dLKueeeSzzAUqtWrejzzz8PNqSmpoa6du1KO3bs0G7D8LAE62lYPxs4cCDxgEyrVq2idevWaWmeeuopeuKJJzQ71tWuvfbaYF6wXHrppXTddddR48aNtdkA1t9EhIFUMSB6nyrmvV2uq5dWTjrpJNq7dy9dc801NGfOHOrduzfV8japWAI55phjKC8vj0pLS+nIkSMamjVrpvkde+yxwWWS8vJyLS66CU/H8WRbL3v27CE8IcctHtbZRNKPAcywvPTmiuh9+umg3S1KyqKw2dvk4sJ80+3h27bgYIxEPp+P97w+egNRXV1NQFFRUUieGNQLCwtD/ODAAxH4yzp4A2qS7lF2pMJUnnacJm5UsF0DeSbr/fpN26lbx3ZGdNNtt92moVOnTtprg5dccknw7ZR58+bRtm3baMyYMYZp9Z64m+bl1ZDJ15dffqnlhTLilREjRtCMGTMiJo/WtoiJOCCVeu/aGXn4gKsfxEEmlkKAcDEaxBEnfMAPTyfu9GXAS7PxdNB7DJTjx4/XXiOcNGkSXXzxxTR9+nQaNWqU5r9y5UptWXT48OHaHTcmaRhYO3bsSLfffrt2V83PuLSwgwcPaooJ/1tvvVX7Y9i3b5/m9+abb9IDDzxAeAA6ePBgmjhxIm3YsIGefPJJLW3Lli3p6aef1uLef//9hPfWCwoKaPPmzWmn7K4dyNOOaWmQMJAhDJxyyimUn59PCxYs0J5Z3X333dpACz88o4I5dOhQ4pcXgq8g4mMfPOdavXo1LVy4UGNqypQphAH4rrvuohUrVmh35Lt27dLCMDP/8MMPtedh8HjppZfomWee0Z6fYfDHa4jLly/XnnutWbOG8McwYcIELS3ql24iA3m69ai0pwEDdi2tNChIPIIMPPzww9qyCGbfkMmTJ9NNN91EX331lebGII7BHM+zNm3aFHy9EF9tKikuLqapU6fSaaedpn2xifS4s8aHRBiM8dohvvTE87IOHTrQs88+q/15NOItafGKIt5LRx5jx46lkSNHaq87YjaPZ2npJq5dI083ojOpPalcKzTi2a6B3I41cqP6u9Ev3nVkN7YlvE7xti2Ven/06WF4a8QtDKQJA15aI08TyqUZDjMgA7nDhEtxwkA6MIATdXBCULoJ2pTqg5Tj4VQG8nhYkzSeYgBLK56qsAcq277tcbTl292EE3XSYUBHG9AWtAlt85rIw06v9ZjUVxhwAQONcnKoU/s2LqhJcqqA9uB0IMCLIjNyL/aa1NkSA7JGbokuiexBBmQg92CnSZWFAWFAGNAz4OhA7vPJUqWe/HS0u7GPU71G7kZO0lH3UtmmVPexowN5Oe9MiD1URNKTAfQt+lgklAHR+1A+0s3lBr139IOgdOtAaU9iDDi1aVZitYyc2uwHQZFzkJBMZMAOvXd0Rp6JnSZtFgaEAWHAbgZkILebYck/5Qykeo085QRIBdKegaQM5HzOw+60Z0oamFQG0kFn0qENSe1UySwmA3bpTFIG8pys/N7cgp9itkIiCAP1DPwU0BlH+LDrPXLRe0e6L50KcVTv04k4aYswIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCgDAgDAgDwoAwIAwIA8KAMCAMCAPCQDwMDOBEHzKw9W5zxgLGTYwHGdcw7JLnOePBNmTemfNsxcDBhysC+Tdl8+cBezxGE070TSBhXzblTNZ4WJQ0woDHGLC81wpvop7NaKRDyJ7mFsOtln8i83svYzyjO2MtA4KBFvWYyJjEgPyMkRvAv9ksYLzBuIQBKa436O9s/iJgR/obA3YjA38asxl5jBxGWwbkFgbKxUDqY3RklDJ2MBD394y/MNBeVe4NbB/I0EsfdtzOQL03MDDII/4SRjfGBQy0JZ9xPuM9RiR5lANwHHikNFbaHakM8RcGhAEXMGB5xpaVlYWBCjCURMMNMz3quY2tDwSc4wLmEDbfYeDooaWM6xkYMDH4dQjYMYhjYP0NA0fYYID8mIEBF4NiBQPyMKNOs4X+YIBWMp8tyGMsA+U8wgAfJzAgWxibNBvRdjYx657OqGI0ZixkXMnQiz5/+KNf0B5sRIayDjIKGRC0C/VdzHiOYUaM0phpt5m8JY4wIAwIA5YYCJn9B1KG++ndmM3CrffDoB4+cCIrNVOGPVxK2CM8H8TBQK7S6ctAGETvh8FZxQ0Py2GPIniy6NNg4Ff+WmBYuD6uClemPiySHXH1dVJpxRQGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBgQBoQBYUAYEAaEAWFAGBAGhAFhQBgQBoQBYUAYEAaEAWFAGHApA/8HcEXJtl7eU8wAAAAASUVORK5CYII='>
  <strong>How to measure the effectiveness of this test?</strong><br/>
  When the node fails, it's expected that the VM is restarted automatically on
  a different node. When the VM restarts, the workload should continue as
  before and performance should be consistent with the pre-failure performance.
  <br/><br/>
  <strong>How is the test run?</strong><br/>
  VM Config:
  <ul class="indented">
    <li>DB: 6000 IOPS with 560 GB working set per VM</li>
    <li>DB Log: 300 IOPS with 8 GB working set per VM</li>
  </ul>
  Setup
  <ol>
    <li>Deploy the OLTP DB VM template.</li>
    <li>Clone 1 OLTP VM on a node.</li>
    <li>Pre-fill the OLTP DB VM.</li>
  </ol>
  Measurement
  <ol>
    <li>Start the OLTP workload.</li>
    <li>Run for 5 minutes.</li>
    <li>Fail the node hosting the OLTP VM.</li>
    <li>Wait for the OLTP VM to come up (by HA restart on another node).</li>
    <li>Restart the OLTP workload.</li>
    <li>Run for 5 minutes.</li>
  </ol>
  Test Requirements
  <ul class="indented">
    <li>vCPUs: 4 vCPUs per OLTP VM</li>
    <li>RAM: 4 GB per OLTP VM</li>
    <li>Cluster Storage: 568 GB per OLTP VM</li>
    <li>IP Addresses: 1 per OLTP VM</li>
  </ul>
  <span style="color: #FF0000">
  Note: This test requires that you have configured VM HA for the cluster.
  </span>

tags:
  - performance
  - availability

estimated_runtime: 7200

vars:
  iops:
    default: 6300

vms:
  - OLTP:
      template: ubuntu1604
      vcpus: 4
      ram_mb: 4096
      data_disks:
        count: 6
        size: 150
      nodes: "0"
      count_per_node: 1

workloads:
  - OLTP:
      vm_group: OLTP
      config_file: oltp.fio
  - ReOLTP:
      vm_group: OLTP
      config_file: oltp.fio

results:
  - OLTP IOPS:
      vm_group: OLTP
      result_type: iops
      result_expected_value: "{{ iops }}"
      result_value_bands:
      - name: 95%
        upper: "{{ iops + 1.96 * iops ** (1/2) }}"
        lower: "{{ iops - 1.96 * iops ** (1/2) }}"
      result_hint: "Consistently achieve {{ iops }} IOPS per VM."
      report_group: performance
      report_metrics:
        - Variability
  - I/O Latency:
      vm_group: OLTP
      result_type: latency
      result_hint: "Lower latency indicates better performance."
      report_group: performance
      report_metrics:
        - Median
  - Cluster CPU Usage:
      metric: CpuUsage.Avg.Megahertz
      aggregate: sum
  - Cluster Network Received:
      metric: NetReceived.Avg.KilobytesPerSecond
      aggregate: sum
  - Cluster Network Transmitted:
      metric: NetTransmitted.Avg.KilobytesPerSecond
      aggregate: sum

setup:
  - cluster.CleanUp: {}
  - vm_group.CloneFromTemplate:
      vm_group_name: OLTP
      disable_ha: False
  - vm_group.PowerOn:
      vm_group_name: OLTP
  - workload.PrefillRun:
      workload_name: OLTP
  # Wait for counters to stabilize before entering Run phase.
  - test.Wait:
      duration_secs: 10

run:
  - workload.Start:
      workload_name: OLTP
      runtime_secs: 900
      async: True
  - test.Wait:
      duration_secs: 300
  - nodes.PowerOff:
      nodes: 0
      annotate: True
  - vm_group.WaitForPowerOn:
      vm_group_name: OLTP
  - workload.Start:
      workload_name: ReOLTP
      runtime_secs: 300
      annotate: True

teardown:
  - cluster.CleanUp: {}
